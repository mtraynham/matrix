!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.matrix=e():t.matrix=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=n(o),u=r(2),a=n(u),s=r(3),f=n(s),l=r(4),c=n(l);e.NilNDArray=a["default"],e.ZeroNDArray=f["default"],e.NDArray=i["default"],e.ArrayUtils=c["default"]},function(t,e,r){"use strict";var n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e,r,o,i){var u=this,a=void 0===arguments[0]?[]:arguments[0];if(n(this,t),this.data=a instanceof Array?a:[a],this.shape=r||(this.data?[this.data.length]:[]),!o){o=[];for(var s=this.shape.length,f=1;s--;)o[s]=f,f*=this.shape[s]}this.stride=o,i||(i=this.shape.reduce(function(t,e,r){var n=u._stride[r];return 0>n&&(t-=(e-1)*n),t},0)),this.offset=i}return o(t,[{key:"size",get:function(){return this._size}},{key:"shape",get:function(){return this._shape},set:function(t){t&&t.length?(this._shape=t.map(Math.floor),this._size=this._shape.reduce(function(t,e){return t*=e},1)):(this._shape=[],this._size=0)}},{key:"stride",get:function(){return this._stride},set:function(t){t&&t.length?(this._stride=t.map(Math.floor),this._order=this._stride.map(function(t,e){return[Math.abs(t),e]}).sort(function(t,e){return t[0]-e[0]}).map(function(t){return t[1]})):(this._stride=[],this._order=[])}},{key:"offset",get:function(){return this._offset},set:function(t){this._offset=Math.floor(t)}},{key:"order",get:function(){return this._order}},{key:"index",value:function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];return this.offset+this._stride.reduce(function(t,r,n){return t+=r*Math.floor(e[n])},0)}},{key:"get",value:function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];return this.data[this.index.apply(this,e)]}},{key:"set",value:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;e>n;n++)r[n-1]=arguments[n];this.data[this.index.apply(this,r)]=t}},{key:"lo",value:function(){for(var e=this,r=arguments.length,n=Array(r),o=0;r>o;o++)n[o]=arguments[o];var i=void 0;return new t(this.data,this.shape.map(function(t,r){return i=Math.floor(n[r]),0>i?t:t-e.offset*e.stride[r]*i}),this.stride,this.offset)}},{key:"hi",value:function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];var o=void 0;return new t(this.data,this.shape.map(function(t,e){return o=Math.floor(r[e]),0>o?t:o}),this.stride,this.offset)}},{key:"step",value:function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];var o=this._shape.slice(),i=this._stride.slice(),u=this.offset;return r.forEach(function(t,e){"number"==typeof t&&(t=Math.floor(t),0>t?(u+=i[t]*(o[e]-1),o[e]=Math.ceil(-o[e]/t)):o[e]=Math.ceil(o[e]/t),i[e]*=t)}),new t(this.data,o,i,this.offset)}},{key:"transpose",value:function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];var o=[],i=[],u=void 0;return this.shape.forEach(function(t,e){u=r[e]||e,i[e]=o[u],o[e]=i[u]}),new t(this.data,i,o,this.offset)}},{key:"pick",value:function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];var o=[],i=[],u=0,a=void 0;return this.shape.forEach(function(t,e){a=r[e],a>=0?u+=Math.floor(i[e]*a):(o.push(o[e]),i.push(i[e]))}),new t(this.data,o,i,u)}},{key:"toJSON",value:function(){return{data:this.data,shape:this.shape,stride:this.stride,offset:this.offset}}},{key:"toString",value:function(){return this.data.toString()}},{key:"valueOf",value:function(){return this.data.valueOf()}}]),t}();e["default"]=i,t.exports=e["default"]},function(t,e,r){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function l(t,e,r){var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:l(o,e,r)}if("value"in n)return n.value;var i=n.get;return void 0===i?void 0:i.call(r)},u=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)};Object.defineProperty(e,"__esModule",{value:!0});var a=r(1),s=n(a),f=function(t){function e(){var t=void 0===arguments[0]?[]:arguments[0];o(this,e),i(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return u(e,t),e}(s["default"]);e["default"]=f,t.exports=e["default"]},function(t,e,r){"use strict";var n=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function l(t,e,r){var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:l(o,e,r)}if("value"in n)return n.value;var i=n.get;return void 0===i?void 0:i.call(r)},u=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)};Object.defineProperty(e,"__esModule",{value:!0});var a=r(1),s=n(a),f=function(t){function e(t){var r=void 0===arguments[1]?0:arguments[1];o(this,e),i(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,null,null,r)}return u(e,t),e}(s["default"]);e.ZeroNDArray=f},function(t,e,r){"use strict";var n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){n(this,t)}return o(t,null,[{key:"fill",value:function(t,e){for(var r=t.length;r--;)t[r]=e(t[r],r);return t}},{key:"fillEmpty",value:function(e,r){return t.fill(e,function(t){return t||r})}},{key:"fillValue",value:function(e,r){return t.fill(e,function(){return r})}},{key:"fillZero",value:function(e){return t.fillValue(e,0)}},{key:"fillOnes",value:function(e){return t.fillValue(e,1)}},{key:"fillIota",value:function(e){return t.fill(e,function(t,e){return e})}},{key:"fillDiagonal",value:function(e,r,n){var o=void 0===arguments[3]?2:arguments[3];return t.fill(e,function(t,e){return Math.floor(o/e)===o%e?r:n})}}]),t}();e["default"]=i,t.exports=e["default"]}])});